<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>在SAS编程中使用Hash对象 | AllenSun's Blog</title><meta name="author" content="Allen Sun"><meta name="copyright" content="Allen Sun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在SAS编程中，使用Hash对象能够快速的进行检索和匹配，减少程序运行时间，对项目后期Batch Run检查程序Log有重要意义。 在SAS编程中使用Hash对象声明和定义hash对象应用的初始步骤是先声明对象，然后定义key和data。 123456789data a;    if _N_ &#x3D; 1 then do;        declare hash h();        rc &#x3D; h.d">
<meta property="og:type" content="article">
<meta property="og:title" content="在SAS编程中使用Hash对象">
<meta property="og:url" content="https://allensrj7.github.io/2025/03/03/%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1/index.html">
<meta property="og:site_name" content="AllenSun&#39;s Blog">
<meta property="og:description" content="在SAS编程中，使用Hash对象能够快速的进行检索和匹配，减少程序运行时间，对项目后期Batch Run检查程序Log有重要意义。 在SAS编程中使用Hash对象声明和定义hash对象应用的初始步骤是先声明对象，然后定义key和data。 123456789data a;    if _N_ &#x3D; 1 then do;        declare hash h();        rc &#x3D; h.d">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://allensrj7.github.io/img/butterfly-icon.png">
<meta property="article:published_time" content="2025-03-03T14:02:05.000Z">
<meta property="article:modified_time" content="2025-03-12T14:05:11.421Z">
<meta property="article:author" content="Allen Sun">
<meta property="article:tag" content="编程技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://allensrj7.github.io/img/butterfly-icon.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "在SAS编程中使用Hash对象",
  "url": "https://allensrj7.github.io/2025/03/03/%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1/",
  "image": "https://allensrj7.github.io/img/butterfly-icon.png",
  "datePublished": "2025-03-03T14:02:05.000Z",
  "dateModified": "2025-03-12T14:05:11.421Z",
  "author": [
    {
      "@type": "Person",
      "name": "Allen Sun",
      "url": "https://allensrj7.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://allensrj7.github.io/2025/03/03/%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '在SAS编程中使用Hash对象',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">AllenSun's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">在SAS编程中使用Hash对象</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">在SAS编程中使用Hash对象</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-03-03T14:02:05.000Z" title="发表于 2025-03-03 22:02:05">2025-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-12T14:05:11.421Z" title="更新于 2025-03-12 22:05:11">2025-03-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>在SAS编程中，使用Hash对象能够快速的进行检索和匹配，减少程序运行时间，对项目后期Batch Run检查程序Log有重要意义。</p>
<h1 id="在SAS编程中使用Hash对象"><a href="#在SAS编程中使用Hash对象" class="headerlink" title="在SAS编程中使用Hash对象"></a>在SAS编程中使用Hash对象</h1><h2 id="声明和定义"><a href="#声明和定义" class="headerlink" title="声明和定义"></a>声明和定义</h2><p>hash对象应用的初始步骤是先声明对象，然后定义key和data。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data a;</span><br><span class="line">    if _N_ = 1 then do;</span><br><span class="line">        declare hash h();</span><br><span class="line">        rc = h.definekey(&#x27;k&#x27;);</span><br><span class="line">        rc = h.defineData(&#x27;d&#x27;);</span><br><span class="line">        rc = defineDone();</span><br><span class="line">        call missing(k, d);</span><br><span class="line">    end;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<ul>
<li>这两种声明方式都可以：<ul>
<li><code>declare hash myhash(dataset: &#39;mydata&#39;, ordered: &#39;yes&#39;);</code></li>
<li><code>myhash = _new_ hash(dataset: &#39;mydata&#39;, ordered: &#39;yes&#39;);</code></li>
</ul>
</li>
<li>如果需要选择多列，可以这样定义：<code>h.defineData(Multidata:&#39;yes&#39;)</code></li>
<li>用<code>call missing</code>可以避免未初始化的报错。</li>
</ul>
<h2 id="储存和检索"><a href="#储存和检索" class="headerlink" title="储存和检索"></a>储存和检索</h2><p>在声明和定义之后，就可以用<code>find</code>，<code>find_next</code>，<code>find_prev</code>，<code>add</code>等方法进行数据储存和检索。</p>
<h3 id="官方案例"><a href="#官方案例" class="headerlink" title="官方案例"></a>官方案例</h3><h4 id="使用add和find函数储存和检索数据："><a href="#使用add和find函数储存和检索数据：" class="headerlink" title="使用add和find函数储存和检索数据："></a>使用<code>add</code>和<code>find</code>函数储存和检索数据：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">data _null_;</span><br><span class="line">length d $20;</span><br><span class="line">length k $20;</span><br><span class="line"></span><br><span class="line">/* Declare the hash object and key and data variables */</span><br><span class="line">if _N_ = 1 then do;</span><br><span class="line">   declare hash h();</span><br><span class="line">   rc = h.defineKey(&#x27;k&#x27;);</span><br><span class="line">   rc = h.defineData(&#x27;d&#x27;);</span><br><span class="line">   rc = h.defineDone();</span><br><span class="line">end;</span><br><span class="line"></span><br><span class="line">/* Define constant value for key and data */</span><br><span class="line">k = &#x27;Homer&#x27;;</span><br><span class="line">d = &#x27;Odyssey&#x27;;</span><br><span class="line">/* Use the ADD method to add the key and data to the hash object */</span><br><span class="line">rc =h.add();</span><br><span class="line">if (rc ne 0) then</span><br><span class="line">   put &#x27;Add failed.&#x27;;</span><br><span class="line"></span><br><span class="line">/* Define constant value for key and data */</span><br><span class="line">k = &#x27;Joyce&#x27;;</span><br><span class="line">d = &#x27;Ulysses&#x27;;</span><br><span class="line">/* Use the ADD method to add the key and data to the hash object */</span><br><span class="line">rc = h.add();</span><br><span class="line">if (rc ne 0) then</span><br><span class="line">   put &#x27;Add failed.&#x27;;</span><br><span class="line"></span><br><span class="line">k = &#x27;Homer&#x27;;</span><br><span class="line">/* Use the FIND method to retrieve the data associated with &#x27;Homer&#x27; key */</span><br><span class="line">rc = h.find();</span><br><span class="line">if (rc = 0) then</span><br><span class="line">   put d=;</span><br><span class="line">else</span><br><span class="line">   put &#x27;Key Homer not found.&#x27;;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<p>简单来说操作就是用<code>add</code>函数添加了观测1：<code>k = &#39;Homer&#39;; d = &#39;Odyssey&#39;;</code>，然后添加了观测2：<code>k = &#39;Joyce&#39;; d = &#39;Ulysses&#39;;</code>，然后再用<code>find</code>进行检索，如果存在观测就将其put出来。</p>
<p>因为hash对象是添加到内存里的，所以添加两条数据之后，如果把数据存到work库里看，只能看到最后一条数据，必须用output才能把key和data输出来，或者用<code>h.output()</code>才能直接输出data。</p>
<h4 id="使用find函数合并两个数据集"><a href="#使用find函数合并两个数据集" class="headerlink" title="使用find函数合并两个数据集"></a>使用find函数合并两个数据集</h4><p>这个是Hash对象在匹配两数据集之间最常用的方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">data match;</span><br><span class="line">   length k 8;</span><br><span class="line">   length s 8;</span><br><span class="line">   if _N_ = 1 then do;</span><br><span class="line">      /* load SMALL data set into the hash object */</span><br><span class="line">     declare hash h(dataset: &quot;work.small&quot;);</span><br><span class="line">      /* define SMALL data set variable K as key and S as value */</span><br><span class="line">      h.defineKey(&#x27;k&#x27;);</span><br><span class="line">      h.defineData(&#x27;s&#x27;);</span><br><span class="line">      h.defineDone();</span><br><span class="line">      /* avoid uninitialized variable notes */</span><br><span class="line">      call missing(k, s);</span><br><span class="line">   end;</span><br><span class="line"></span><br><span class="line">/* use the SET statement to iterate over the LARGE data set using */</span><br><span class="line">/* keys in the LARGE data set to match keys in the hash object */</span><br><span class="line">set large;</span><br><span class="line">rc = h.find();</span><br><span class="line">if (rc = 0) then output;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<p>需要注意的点：</p>
<ul>
<li>在新生成数据集前记得用length初始化要引入的变量</li>
<li>如果两个数据集都包含<code>s</code>变量，<code>h.defineData(&#39;s&#39;)</code>那么只会保留最后一个实例，第一个数据集里的<code>s</code>变量会消失。</li>
</ul>
<h2 id="替换和移除"><a href="#替换和移除" class="headerlink" title="替换和移除"></a>替换和移除</h2><p>使用remove和replace函数，可以实现对于哈希对象的替换和移除。</p>
<h3 id="官方案例-1"><a href="#官方案例-1" class="headerlink" title="官方案例"></a>官方案例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">data _null_;</span><br><span class="line">length d $20;</span><br><span class="line">length k $20;</span><br><span class="line"></span><br><span class="line">/* Declare the hash object and key and data variables */</span><br><span class="line">if _N_ = 1 then do;</span><br><span class="line">   declare hash h();</span><br><span class="line">   rc = h.defineKey(&#x27;k&#x27;);</span><br><span class="line">   rc = h.defineData(&#x27;d&#x27;);</span><br><span class="line">   rc = h.defineDone();</span><br><span class="line">end;</span><br><span class="line"></span><br><span class="line">/* Define constant value for key and data */</span><br><span class="line">k = &#x27;Joyce&#x27;;</span><br><span class="line">d = &#x27;Ulysses&#x27;;</span><br><span class="line">/* Use the ADD method to add the key and data to the hash object */</span><br><span class="line">rc = h.add();</span><br><span class="line">if (rc ne 0) then</span><br><span class="line">   put &#x27;Add failed.&#x27;;</span><br><span class="line"></span><br><span class="line">/* Define constant value for key and data */</span><br><span class="line">k = &#x27;Homer&#x27;;</span><br><span class="line">d = &#x27;Odyssey&#x27;;</span><br><span class="line">/* Use the ADD method to add the key and data to the hash object */</span><br><span class="line">rc = h.add();</span><br><span class="line">if (rc ne 0) then</span><br><span class="line">   put &#x27;Add failed.&#x27;;</span><br><span class="line"></span><br><span class="line">/* Use the REPLACE method to replace &#x27;Odyssey&#x27; with &#x27;Iliad&#x27; */</span><br><span class="line">k = &#x27;Homer&#x27;;</span><br><span class="line">d = &#x27;Iliad&#x27;;</span><br><span class="line">rc = h.replace();</span><br><span class="line">if (rc = 0) then</span><br><span class="line">   put d=;</span><br><span class="line">else</span><br><span class="line">   put &#x27;Replace not successful.&#x27;;</span><br><span class="line"></span><br><span class="line">/* Use the REMOVE method to remove the &#x27;Joyce&#x27; key and data */</span><br><span class="line">k = &#x27;Joyce&#x27;;</span><br><span class="line">rc = h.remove();</span><br><span class="line">if (rc = 0) then</span><br><span class="line">   put k &#x27;removed from hash object&#x27;;</span><br><span class="line">else</span><br><span class="line">   put &#x27;Deletion not successful.&#x27;;</span><br><span class="line"></span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<p>上述操作干了啥：</p>
<p>添加了观测1：<code>k = &#39;Joyce&#39;;d = &#39;Ulysses&#39;;</code>，然后添加了观测2：<code>k = &#39;Homer&#39;;d = &#39;Odyssey&#39;;</code>，将观测1的值替换成<code>&#39;Iliad&#39;</code>，然后移除了<code>k = &#39;Joyce&#39;</code>对应的键和值。</p>
<h2 id="输出Hash对象为数据集"><a href="#输出Hash对象为数据集" class="headerlink" title="输出Hash对象为数据集"></a>输出Hash对象为数据集</h2><h3 id="官方案例-2"><a href="#官方案例-2" class="headerlink" title="官方案例"></a>官方案例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">data test;</span><br><span class="line">length d1 8;</span><br><span class="line">length d2 $20;</span><br><span class="line">length k1 $20;</span><br><span class="line">length k2 8;</span><br><span class="line"></span><br><span class="line">/* Declare the hash object and two key and data variables */</span><br><span class="line">if _N_ = 1 then do;</span><br><span class="line">   declare hash h();</span><br><span class="line">   rc = h.defineKey(&#x27;k1&#x27;, &#x27;k2&#x27;);</span><br><span class="line">   rc = h.defineData(&#x27;d1&#x27;, &#x27;d2&#x27;);</span><br><span class="line">   rc = h.defineDone();</span><br><span class="line">end;</span><br><span class="line"></span><br><span class="line">/* Define constant value for key and data */</span><br><span class="line">k1 = &#x27;Joyce&#x27;;</span><br><span class="line">k2 = 1001;</span><br><span class="line">d1 = 3;</span><br><span class="line">d2 = &#x27;Ulysses&#x27;;</span><br><span class="line">rc = h.add();</span><br><span class="line"></span><br><span class="line">/* Define constant value for key and data */</span><br><span class="line">k1 = &#x27;Homer&#x27;;</span><br><span class="line">k2 = 1002;</span><br><span class="line">d1 = 5;</span><br><span class="line">d2 = &#x27;Odyssey&#x27;;</span><br><span class="line">rc = h.add();</span><br><span class="line"></span><br><span class="line">/* Use the OUTPUT method to save the hash object data to the OUT data set */</span><br><span class="line">rc = h.output(dataset: &quot;work.out&quot;);</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<p>上述代码干了啥：</p>
<p>声明哈希对象、定义键和值，然后添加了两条观测进数据集，之后把数据集输出到work库。</p>
<p>但是需要主意一点，<code>output;</code>和<code>h.output;</code>是不一样的，前者是直接将数据集输出出来，后者是将Hash对象输出到数据集，这里的Hash对象仅输出键和值（Key and Data）里面的值，键是不会输出的，除非你连同把键也定义为值：<code>rc = h.defineData(&#39;k1&#39;, &#39;k2&#39;, &#39;d1&#39;, &#39;d2&#39;);</code></p>
<h2 id="比较Hash对象"><a href="#比较Hash对象" class="headerlink" title="比较Hash对象"></a>比较Hash对象</h2><p>在Hash对象中，还可以用equals函数对比两Hash对象。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">length eq k 8;</span><br><span class="line"></span><br><span class="line">declare hash myhash1();</span><br><span class="line">myhash1.defineKey(&#x27;k&#x27;);</span><br><span class="line">myhash1.defineDone();</span><br><span class="line"></span><br><span class="line">declare hash myhash2();</span><br><span class="line">myhash2.defineKey(&#x27;k&#x27;);</span><br><span class="line">myhash2.defineDone();</span><br><span class="line"></span><br><span class="line">rc = myhash1.equals(hash: &#x27;myhash2&#x27;, result: eq);</span><br></pre></td></tr></table></figure>

<p>如果两者相等，<code>eq = 1</code>。</p>
<p>这一部分在实际应用中比较少见。</p>
<h2 id="观察Hash属性"><a href="#观察Hash属性" class="headerlink" title="观察Hash属性"></a>观察Hash属性</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">attribute_value = obj.attribute_name;</span><br><span class="line">n = myhash.num_items;</span><br><span class="line">s = myhash.item_size;</span><br></pre></td></tr></table></figure>

<p>这三句可以了解哈希对象的规模和内存占用情况，从而优化程序设计和资源管理。</p>
<p>如果写在上面的例子里，可以这样用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">data test;</span><br><span class="line">   length d1 8;</span><br><span class="line">   length d2 $20;</span><br><span class="line">   length k1 $20;</span><br><span class="line">   length k2 8;</span><br><span class="line"></span><br><span class="line">   /* 声明哈希对象和两个键及数据变量 */</span><br><span class="line">   if _N_ = 1 then do;</span><br><span class="line">      declare hash h();</span><br><span class="line">      rc = h.defineKey(&#x27;k1&#x27;, &#x27;k2&#x27;);</span><br><span class="line">      rc = h.defineData(&#x27;d1&#x27;, &#x27;d2&#x27;);</span><br><span class="line">      rc = h.defineDone();</span><br><span class="line">   end;</span><br><span class="line"></span><br><span class="line">   /* 定义键和数据的常量值 */</span><br><span class="line">   k1 = &#x27;Joyce&#x27;;</span><br><span class="line">   k2 = 1001;</span><br><span class="line">   d1 = 3;</span><br><span class="line">   d2 = &#x27;Ulysses&#x27;;</span><br><span class="line">   rc = h.add();</span><br><span class="line"></span><br><span class="line">   /* 定义另一个键和数据的常量值 */</span><br><span class="line">   k1 = &#x27;Homer&#x27;;</span><br><span class="line">   k2 = 1002;</span><br><span class="line">   d1 = 5;</span><br><span class="line">   d2 = &#x27;Odyssey&#x27;;</span><br><span class="line">   rc = h.add();</span><br><span class="line"></span><br><span class="line">   /* 使用 NUM_ITEMS 属性获取哈希对象中的项数 */</span><br><span class="line">   num_items = h.num_items;</span><br><span class="line">   put &quot;Number of items in the hash object: &quot; num_items;</span><br><span class="line"></span><br><span class="line">   /* 使用 ITEM_SIZE 属性获取每个项的大小（以字节为单位） */</span><br><span class="line">   item_size = h.item_size;</span><br><span class="line">   put &quot;Size of each item in the hash object (in bytes): &quot; item_size;</span><br><span class="line"></span><br><span class="line">   /* 计算哈希对象的总内存使用量（近似值） */</span><br><span class="line">   total_memory = num_items * item_size;</span><br><span class="line">   put &quot;Approximate total memory used by the hash object (in bytes): &quot; total_memory;</span><br><span class="line"></span><br><span class="line">   /* 使用 OUTPUT 方法将哈希对象的数据保存到 OUT 数据集中 */</span><br><span class="line">   rc = h.output(dataset: &quot;work.out&quot;);</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<h1 id="对Hash对象使用迭代器-Iterator"><a href="#对Hash对象使用迭代器-Iterator" class="headerlink" title="对Hash对象使用迭代器(Iterator)"></a>对Hash对象使用迭代器(Iterator)</h1><p>对于Hash对象，还能套娃用迭代。</p>
<p>用法就是对hash对象再用myiter声明：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">declare hash myhash(dataset:&quot;work.x&quot;, ordered: &#x27;yes&#x27;);</span><br><span class="line">declare hiter myiter(&#x27;myhash&#x27;);</span><br></pre></td></tr></table></figure>

<h2 id="官方案例-3"><a href="#官方案例-3" class="headerlink" title="官方案例"></a>官方案例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">data astro;</span><br><span class="line">   input obj $1-4 ra $6-12 dec $14-19;</span><br><span class="line">   datalines;</span><br><span class="line"> M31 00 42.7 +41 16</span><br><span class="line"> M71 19 53.8 +18 47</span><br><span class="line"> M51 13 29.9 +47 12</span><br><span class="line"> M98 12 13.8 +14 54</span><br><span class="line"> M13 16 41.7 +36 28</span><br><span class="line"> M39 21 32.2 +48 26</span><br><span class="line"> M81 09 55.6 +69 04</span><br><span class="line">M100 12 22.9 +15 49</span><br><span class="line"> M41 06 46.0 -20 44</span><br><span class="line"> M44 08 40.1 +19 59</span><br><span class="line"> M10 16 57.1 -04 06</span><br><span class="line"> M57 18 53.6 +33 02</span><br><span class="line">  M3 13 42.2 +28 23</span><br><span class="line"> M22 18 36.4 -23 54</span><br><span class="line"> M23 17 56.8 -19 01</span><br><span class="line"> M49 12 29.8 +08 00</span><br><span class="line"> M68 12 39.5 -26 45</span><br><span class="line"> M17 18 20.8 -16 11</span><br><span class="line"> M14 17 37.6 -03 15</span><br><span class="line"> M29 20 23.9 +38 32</span><br><span class="line"> M34 02 42.0 +42 47</span><br><span class="line"> M82 09 55.8 +69 41</span><br><span class="line"> M59 12 42.0 +11 39</span><br><span class="line"> M74 01 36.7 +15 47</span><br><span class="line"> M25 18 31.6 -19 15</span><br><span class="line">;</span><br><span class="line">run;</span><br><span class="line"></span><br><span class="line">data out;</span><br><span class="line">   if _N_ = 1 then do;</span><br><span class="line">      length obj $10;</span><br><span class="line">      length ra $10;</span><br><span class="line">      length dec $10;</span><br><span class="line">      /* Read ASTRO data set and store in asc order in hash obj */</span><br><span class="line">      declare hash h(dataset:&quot;work.astro&quot;, ordered: &#x27;yes&#x27;);</span><br><span class="line">      /* Define variables RA and OBJ as key and data for hash object */</span><br><span class="line">      declare hiter iter(&#x27;h&#x27;);</span><br><span class="line">      h.defineKey(&#x27;ra&#x27;);</span><br><span class="line">      h.defineData(&#x27;ra&#x27;, &#x27;obj&#x27;);</span><br><span class="line">      h.defineDone();</span><br><span class="line">      /* Avoid uninitialized variable notes */</span><br><span class="line">      call missing(obj, ra, dec);</span><br><span class="line">   end;</span><br><span class="line">/* Retrieve RA values in ascending order */</span><br><span class="line">rc = iter.first();</span><br><span class="line">do while (rc = 0);</span><br><span class="line">/* Find hash object keys greater than 12 and output data */</span><br><span class="line">   if ra GE &#x27;12&#x27; then</span><br><span class="line">      output;</span><br><span class="line">   rc = iter.next();</span><br><span class="line">end;</span><br><span class="line">run;</span><br><span class="line"></span><br><span class="line">proc print data=work.out;</span><br><span class="line">   var ra obj;</span><br><span class="line">   title &#x27;Messier Objects Greater than 12 Sorted by Right Ascension Values&#x27;;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>

<p>上述代码干了啥：</p>
<p>写入<code>astro</code>数据集之后，将其做成Hash对象<code>h</code>，然后对其进行迭代，选出<code>ra</code>变量大于12的数据。</p>
<h1 id="对于Hash对象的理解和思考"><a href="#对于Hash对象的理解和思考" class="headerlink" title="对于Hash对象的理解和思考"></a>对于Hash对象的理解和思考</h1><p>在SAS编程里用Hash对象，对于涉及大型数据集的程序如LB等能够减少程序运行时间，这在项目中后期batch run时意义巨大。不过在普通程序里运用Hash对象，也会给SAS编程和review带来一点难度。</p>
<p>之前看包含Hash对象的SAS程序有些抽象，但是如果用python里字典对象的方式来思考就会好理解些，字典对象也是一个键（key）对应一个值（Value）。只是在SAS里，键和值都是变量，同时键又能是值，其次就是SAS的Hash对象是存在内存里的，而work库等能打开看到数据集地方都不属于内存，所以添加的Hash对象是看不见的，只有output了才能看到。</p>
<p>最后，Hash对象其实能完成很多较为复杂的筛选和匹配，但是最常用到的，依旧是h.find合并两数据集，所以可以先熟悉这个用法，后期再去思考更加复杂的操作。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://allensrj7.github.io">Allen Sun</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://allensrj7.github.io/2025/03/03/%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1/">https://allensrj7.github.io/2025/03/03/%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://allensrj7.github.io" target="_blank">AllenSun's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/">编程技术</a></div><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/03/12/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Allen Sun</div><div class="author-info-description">药企程序员，记录工作生活</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.</span> <span class="toc-text">在SAS编程中使用Hash对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%92%8C%E5%AE%9A%E4%B9%89"><span class="toc-number">1.1.</span> <span class="toc-text">声明和定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%82%A8%E5%AD%98%E5%92%8C%E6%A3%80%E7%B4%A2"><span class="toc-number">1.2.</span> <span class="toc-text">储存和检索</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%A1%88%E4%BE%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">官方案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8add%E5%92%8Cfind%E5%87%BD%E6%95%B0%E5%82%A8%E5%AD%98%E5%92%8C%E6%A3%80%E7%B4%A2%E6%95%B0%E6%8D%AE%EF%BC%9A"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">使用add和find函数储存和检索数据：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8find%E5%87%BD%E6%95%B0%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">使用find函数合并两个数据集</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E5%92%8C%E7%A7%BB%E9%99%A4"><span class="toc-number">1.3.</span> <span class="toc-text">替换和移除</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%A1%88%E4%BE%8B-1"><span class="toc-number">1.3.1.</span> <span class="toc-text">官方案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BAHash%E5%AF%B9%E8%B1%A1%E4%B8%BA%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.4.</span> <span class="toc-text">输出Hash对象为数据集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%A1%88%E4%BE%8B-2"><span class="toc-number">1.4.1.</span> <span class="toc-text">官方案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83Hash%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.5.</span> <span class="toc-text">比较Hash对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%82%E5%AF%9FHash%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.</span> <span class="toc-text">观察Hash属性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9Hash%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8-Iterator"><span class="toc-number">2.</span> <span class="toc-text">对Hash对象使用迭代器(Iterator)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%A1%88%E4%BE%8B-3"><span class="toc-number">2.1.</span> <span class="toc-text">官方案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8EHash%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E6%80%9D%E8%80%83"><span class="toc-number">3.</span> <span class="toc-text">对于Hash对象的理解和思考</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/12/hello-world/" title="Hello World">Hello World</a><time datetime="2025-03-12T12:48:42.135Z" title="发表于 2025-03-12 20:48:42">2025-03-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/03/%E5%9C%A8SAS%E7%BC%96%E7%A8%8B%E4%B8%AD%E4%BD%BF%E7%94%A8Hash%E5%AF%B9%E8%B1%A1/" title="在SAS编程中使用Hash对象">在SAS编程中使用Hash对象</a><time datetime="2025-03-03T14:02:05.000Z" title="发表于 2025-03-03 22:02:05">2025-03-03</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Allen Sun</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>